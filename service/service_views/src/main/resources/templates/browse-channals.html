<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>

    <!-- Basic Page Needs
    ================================================== -->
    <title>TubeLite Streaming Video HTML Template</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="TubeLite is - Professional A unique and beautiful collection of UI elements">
    <link rel="icon" th:href="@{/assets/images/favicon.png}">

    <script th:src="@{/assets/js/vue.min.js}"></script>
    <!-- javaScripts
                ================================================== -->
    <script th:src="@{/assets/js/framework.js}"></script>
    <script th:src="@{/assets/js/jquery-3.3.1.min.js}"></script>
    <script th:src="@{/assets/js/simplebar.js}"></script>
    <script th:src="@{/assets/js/main.js}"></script>

    <script th:src="@{/assets/js/axios.min.js}"></script>
    <script th:src="@{/assets/js/test.js}"></script>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <!-- CSS
    ================================================== -->
    <link rel="stylesheet" th:href="@{/assets/css/style.css}">
    <link rel="stylesheet" th:href="@{/assets/css/night-mode.css}">
    <link rel="stylesheet" th:href="@{/assets/css/framework.css}">


    <!-- icons
    ================================================== -->
    <link rel="stylesheet" th:href="@{/assets/css/icons.css}">

    <!-- Google font
    ================================================== -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">



</head>

<body>

<div id="app">
    <!-- Wrapper -->
    <div id="wrapper">


        <!-- sidebar -->
        <div th:replace="commons/bar::sidebar(activeUri='subscribe')"></div>

        <!-- header -->
        <div th:replace="commons/bar::header"></div>

        <!-- contents -->
        <div class="main_content">
            <div class="main_content_inner">


                <div class="section-small pt-2">
                    <h3> 用户粉丝数榜 </h3>

                    <div class="video-grid-slider" uk-slider="finite: true;outoplay: true">
                        <ul class="uk-slider-items uk-child-width-1-5@m uk-child-width-1-3@s uk-grid">

                            <li th:each="topChannal,itemStat:${topChannals}" th:if="${itemStat.count < 10}">
                                <a th:href="@{'/view/channal/'+ ${topChannal.id}}" >
                                    <div class="single-channal">
                                        <div class="single-channal-creator">
                                            <img th:src="${topChannal.avatar}" alt="">
                                        </div>
                                        <div class="single-channal-body">
                                            <h4 th:text="${topChannal.name}"> </h4>
                                            <p th:text="${topChannal.fansNum} + 粉丝"> </p>
                                            <a href="#" class="button soft-primary small circle"> <i class="uil-bell">订阅</i>  </a>
                                        </div>
                                    </div>
                                </a>
                            </li>

<!--                            <li>-->
<!--                                <a href="single-channal.html">-->
<!--                                    <div class="single-channal">-->
<!--                                        <div class="single-channal-creator">-->
<!--                                            <img th:src="@{/assets/images/avatars/avatar-2.jpg}" alt="">-->
<!--                                        </div>-->
<!--                                        <div class="single-channal-body">-->
<!--                                            <h4>Supercoolben </h4>-->
<!--                                            <p> 29.6M subscribers </p>-->
<!--                                            <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </a>-->
<!--                            </li>-->

<!--                            <li>-->
<!--                                <a href="single-channal.html">-->
<!--                                    <div class="single-channal">-->
<!--                                        <div class="single-channal-creator">-->
<!--                                            <img th:src="@{/assets/images/avatars/avatar-3.jpg}" alt="">-->
<!--                                        </div>-->
<!--                                        <div class="single-channal-body">-->
<!--                                            <h4>The Young Turks </h4>-->
<!--                                            <p> 32.8M subscribers </p>-->
<!--                                            <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </a>-->
<!--                            </li>-->

<!--                            <li>-->
<!--                                <a href="single-channal.html">-->
<!--                                    <div class="single-channal">-->
<!--                                        <div class="single-channal-creator">-->
<!--                                            <img th:src="@{/assets/images/avatars/avatar-4.jpg}" alt="">-->
<!--                                        </div>-->
<!--                                        <div class="single-channal-body">-->
<!--                                            <h4>TechSmartt </h4>-->
<!--                                            <p> 19.6M subscribers </p>-->
<!--                                            <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </a>-->
<!--                            </li>-->

<!--                            <li>-->
<!--                                <a href="single-channal.html">-->
<!--                                    <div class="single-channal">-->
<!--                                        <div class="single-channal-creator">-->
<!--                                            <img th:src="@{/assets/images/avatars/avatar-5.jpg}" alt="">-->
<!--                                        </div>-->
<!--                                        <div class="single-channal-body">-->
<!--                                            <h4>World Rugby </h4>-->
<!--                                            <p> 23.2M subscribers </p>-->
<!--                                            <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </a>-->
<!--                            </li>-->


<!--                            <li>-->
<!--                                <a href="single-channal.html">-->
<!--                                    <div class="single-channal">-->
<!--                                        <div class="single-channal-creator">-->
<!--                                            <img th:src="@{/assets/images/avatars/avatar-1.jpg}" alt="">-->
<!--                                        </div>-->
<!--                                        <div class="single-channal-body">-->
<!--                                            <h4>RiceGum </h4>-->
<!--                                            <p> 29.6M subscribers </p>-->
<!--                                            <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </a>-->
<!--                            </li>-->

                        </ul>

                        <a class="uk-position-center-left uk-position-small uk-hidden-hover slidenav-prev" href="#"
                            uk-slider-item="previous"></a>
                        <a class="uk-position-center-right uk-position-small uk-hidden-hover slidenav-next" href="#"
                            uk-slider-item="next"></a>

                    </div>

                </div>

<!--                <div class="section-header">-->
<!--                    <div class="section-header-left">-->
<!--                        <h3>   Film & Entertainment  </h3>-->
<!--                    </div>-->
<!--                    <div class="section-header-right">-->
<!--                        <a href="#" class="see-all"> See all</a>-->
<!--                    </div>-->
<!--                </div>-->

<!--                <div class="section-small">-->

<!--                    <div class="video-grid-slider" uk-slider="finite: true">-->
<!--                        <ul class="uk-slider-items uk-child-width-1-5@m uk-child-width-1-3@s uk-grid">-->

<!--                          -->

<!--                            <li>-->
<!--                                <a href="single-channal.html">-->
<!--                                    <div class="single-channal">-->
<!--                                        <div class="single-channal-creator">-->
<!--                                            <img th:src="@{/assets/images/avatars/avatar-3.jpg}" alt="">-->
<!--                                        </div>-->
<!--                                        <div class="single-channal-body">-->
<!--                                            <h4>The Young Turks </h4>-->
<!--                                            <p> 32.8M subscribers </p>-->
<!--                                            <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </a>-->
<!--                            </li>-->

<!--                            <li>-->
<!--                                <a href="single-channal.html">-->
<!--                                    <div class="single-channal">-->
<!--                                        <div class="single-channal-creator">-->
<!--                                            <img th:src="@{/assets/images/avatars/avatar-4.jpg}" alt="">-->
<!--                                        </div>-->
<!--                                        <div class="single-channal-body">-->
<!--                                            <h4>TechSmartt </h4>-->
<!--                                            <p> 19.6M subscribers </p>-->
<!--                                            <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </a>-->
<!--                            </li>-->

<!--                            <li>-->
<!--                                <a href="single-channal.html">-->
<!--                                    <div class="single-channal">-->
<!--                                        <div class="single-channal-creator">-->
<!--                                            <img th:src="@{/assets/images/avatars/avatar-5.jpg}" alt="">-->
<!--                                        </div>-->
<!--                                        <div class="single-channal-body">-->
<!--                                            <h4>World Rugby </h4>-->
<!--                                            <p> 23.2M subscribers </p>-->
<!--                                            <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </a>-->
<!--                            </li>-->

<!--                            <li>-->
<!--                                    <a href="single-channal.html">-->
<!--                                        <div class="single-channal">-->
<!--                                            <div class="single-channal-creator">-->
<!--                                                <img th:src="@{/assets/images/avatars/avatar-4.jpg}" alt="">-->
<!--                                            </div>-->
<!--                                            <div class="single-channal-body">-->
<!--                                                <h4>Rosanna Pansino </h4>-->
<!--                                                <p> 42.2M subscribers </p>-->
<!--                                                <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                    </a>-->
<!--                                </li>-->
<!--    -->
<!--                                <li>-->
<!--                                    <a href="single-channal.html">-->
<!--                                        <div class="single-channal">-->
<!--                                            <div class="single-channal-creator">-->
<!--                                                <img th:src="@{/assets/images/avatars/avatar-2.jpg}" alt="">-->
<!--                                            </div>-->
<!--                                            <div class="single-channal-body">-->
<!--                                                <h4>Supercoolben </h4>-->
<!--                                                <p> 29.6M subscribers </p>-->
<!--                                                <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                    </a>-->
<!--                                </li>-->

<!--                            <li>-->
<!--                                <a href="single-channal.html">-->
<!--                                    <div class="single-channal">-->
<!--                                        <div class="single-channal-creator">-->
<!--                                            <img th:src="@{/assets/images/avatars/avatar-1.jpg}" alt="">-->
<!--                                        </div>-->
<!--                                        <div class="single-channal-body">-->
<!--                                            <h4>RiceGum </h4>-->
<!--                                            <p> 29.6M subscribers </p>-->
<!--                                            <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </a>-->
<!--                            </li>-->

<!--                        </ul>-->

<!--                        <a class="uk-position-center-left uk-position-small uk-hidden-hover slidenav-prev" href="#"-->
<!--                            uk-slider-item="previous"></a>-->
<!--                        <a class="uk-position-center-right uk-position-small uk-hidden-hover slidenav-next" href="#"-->
<!--                            uk-slider-item="next"></a>-->

<!--                    </div>-->

<!--                </div>-->

<!--                <div class="section-header">-->
<!--                        <div class="section-header-left">-->
<!--                            <h3>  News & Politics  </h3>-->
<!--                        </div>-->
<!--                        <div class="section-header-right">-->
<!--                            <a href="#" class="see-all"> See all</a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--    -->
<!--                    <div class="section-small">-->
<!--    -->
<!--                            <div class="video-grid-slider" uk-slider="finite: true">-->
<!--                                    <ul class="uk-slider-items uk-child-width-1-5@m uk-child-width-1-3@s uk-grid">-->
<!--            -->
<!--                                        <li>-->
<!--                                            <a href="single-channal.html">-->
<!--                                                <div class="single-channal">-->
<!--                                                    <div class="single-channal-creator">-->
<!--                                                        <img th:src="@{/assets/images/avatars/avatar-4.jpg}" alt="">-->
<!--                                                    </div>-->
<!--                                                    <div class="single-channal-body">-->
<!--                                                        <h4>Rosanna Pansino </h4>-->
<!--                                                        <p> 42.2M subscribers </p>-->
<!--                                                        <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                                    </div>-->
<!--                                                </div>-->
<!--                                            </a>-->
<!--                                        </li>-->
<!--            -->
<!--                                        <li>-->
<!--                                            <a href="single-channal.html">-->
<!--                                                <div class="single-channal">-->
<!--                                                    <div class="single-channal-creator">-->
<!--                                                        <img th:src="@{/assets/images/avatars/avatar-2.jpg}" alt="">-->
<!--                                                    </div>-->
<!--                                                    <div class="single-channal-body">-->
<!--                                                        <h4>Supercoolben </h4>-->
<!--                                                        <p> 29.6M subscribers </p>-->
<!--                                                        <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                                    </div>-->
<!--                                                </div>-->
<!--                                            </a>-->
<!--                                        </li>-->
<!--            -->
<!--                                        <li>-->
<!--                                            <a href="single-channal.html">-->
<!--                                                <div class="single-channal">-->
<!--                                                    <div class="single-channal-creator">-->
<!--                                                        <img th:src="@{/assets/images/avatars/avatar-3.jpg}" alt="">-->
<!--                                                    </div>-->
<!--                                                    <div class="single-channal-body">-->
<!--                                                        <h4>The Young Turks </h4>-->
<!--                                                        <p> 32.8M subscribers </p>-->
<!--                                                        <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                                    </div>-->
<!--                                                </div>-->
<!--                                            </a>-->
<!--                                        </li>-->
<!--            -->
<!--                                        <li>-->
<!--                                            <a href="single-channal.html">-->
<!--                                                <div class="single-channal">-->
<!--                                                    <div class="single-channal-creator">-->
<!--                                                        <img th:src="@{/assets/images/avatars/avatar-4.jpg}" alt="">-->
<!--                                                    </div>-->
<!--                                                    <div class="single-channal-body">-->
<!--                                                        <h4>TechSmartt </h4>-->
<!--                                                        <p> 19.6M subscribers </p>-->
<!--                                                        <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                                    </div>-->
<!--                                                </div>-->
<!--                                            </a>-->
<!--                                        </li>-->
<!--            -->
<!--                                        <li>-->
<!--                                            <a href="single-channal.html">-->
<!--                                                <div class="single-channal">-->
<!--                                                    <div class="single-channal-creator">-->
<!--                                                        <img th:src="@{/assets/images/avatars/avatar-5.jpg}" alt="">-->
<!--                                                    </div>-->
<!--                                                    <div class="single-channal-body">-->
<!--                                                        <h4>World Rugby </h4>-->
<!--                                                        <p> 23.2M subscribers </p>-->
<!--                                                        <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                                    </div>-->
<!--                                                </div>-->
<!--                                            </a>-->
<!--                                        </li>-->
<!--            -->
<!--            -->
<!--                                        <li>-->
<!--                                            <a href="single-channal.html">-->
<!--                                                <div class="single-channal">-->
<!--                                                    <div class="single-channal-creator">-->
<!--                                                        <img th:src="@{/assets/images/avatars/avatar-1.jpg}" alt="">-->
<!--                                                    </div>-->
<!--                                                    <div class="single-channal-body">-->
<!--                                                        <h4>RiceGum </h4>-->
<!--                                                        <p> 29.6M subscribers </p>-->
<!--                                                        <a href="#" class="button soft-primary small circle"> <i class="uil-bell"></i> Subscribe </a>-->
<!--                                                    </div>-->
<!--                                                </div>-->
<!--                                            </a>-->
<!--                                        </li>-->
<!--            -->
<!--                                    </ul>-->
<!--            -->
<!--                                    <a class="uk-position-center-left uk-position-small uk-hidden-hover slidenav-prev" href="#"-->
<!--                                        uk-slider-item="previous"></a>-->
<!--                                    <a class="uk-position-center-right uk-position-small uk-hidden-hover slidenav-next" href="#"-->
<!--                                        uk-slider-item="next"></a>-->
<!--            -->
<!--                                </div>-->
<!--    -->
<!--                    </div>-->




                <!-- footer
               ================================================== -->
                <div class="footer">
                    <div class="uk-grid-collapse" uk-grid>
                        <div class="uk-width-expand@s uk-first-column">
                            <p>© 2020 <strong>TubeLite</strong>. All Rights Reserved. </p>
                        </div>
                        <div class="uk-width-auto@s">
                            <nav class="footer-nav-icon">
                                <ul>
                                    <li><a href="#"><i class="icon-brand-facebook"></i></a></li>
                                    <li><a href="#"><i class="icon-brand-dribbble"></i></a></li>
                                    <li><a href="#"><i class="icon-brand-youtube"></i></a></li>
                                    <li><a href="#"><i class="icon-brand-twitter"></i></a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>



            </div>
        </div>
    </div>
</div>

    <!-- For Night mode -->
<script>
    new Vue({
        el: '#app',
        data: function() {
            return {
                video: {
                    cover: "https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif",
                    title: '',
                    sourceId: '',
                    originalName:'',//视频名称
                },
                saveBtnDisabled: false, // 保存按钮是否禁用
                BASE_API: 'http://127.0.0.1:8002',
                fileList: []
            }
        },
        methods: {
            //点击确定调用的方法
            handleVodRemove() {
                //调用接口的删除视频的方法
                axios.delete('http://127.0.0.1:8002/vod/removeAliVideo/'+this.video.sourceId)
                    .then(response => {
                        //提示信息
                        this.$message({
                            type: 'success',
                            message: '删除视频成功!'
                        });
                        //把文件列表清空
                        this.fileList = [];
                        //把video视频id和视频名称值清空
                        //上传视频id赋值
                        this.video.sourceId = '';
                        //上传视频名称赋值
                        this.video.originalName = ''
                    })
            },
            //点击×调用这个方法
            beforeVodRemove(file,fileList) {
                return this.$confirm(`确定移除 ${ file.name }？`);
            },
            //上传视频成功调用的方法
            handleVodUploadSuccess(response, file, fileList) {
                //上传视频id赋值
                this.video.sourceId = response.data.videoId;
                //上传视频名称赋值
                this.video.originalName = file.name
            },
            handleUploadExceed() {
                this.$message.warning('想要重新上传视频，请先删除已上传的视频')
            },
            saveVideo() {
                console.log(this.video)
                // axios.post('http://127.0.0.1:8002/video/',{data: this.video})
                axios({
                    method: 'post',
                    url: 'http://127.0.0.1:8002/video/',
                    data: this.video
                }).then(
                    resp => {
                        this.$message({
                            type: 'success',
                            message: '上传视频成功!'
                        });
                    }
                )
            }
        }
    })
</script>
<style>
    .el-dropdown-menu {
        width: 450px;
    }
    .el-dropdown {
        vertical-align: top;
    }
    .el-dropdown + .el-dropdown {
        margin-left: 5px;
    }
    .el-icon-arrow-down {
        font-size: 12px;
    }
    .el-form {
        width: 400px;
        margin-left: 10px;
    }
</style>

</body>

</html>